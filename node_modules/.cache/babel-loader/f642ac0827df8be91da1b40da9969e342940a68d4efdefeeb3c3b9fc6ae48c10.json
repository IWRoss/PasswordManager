{"ast":null,"code":"var _jsxFileName = \"/Users/ryanbudd/PasswordManager/src/contexts/AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useContext, useState, createContext } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthContext = /*#__PURE__*/createContext();\nexport function useAuth() {\n  _s();\n  return useContext(AuthContext);\n}\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n;\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  // States here\n\n  const [employeeData, setEmployeeData] = useState([]); //[username, password, accessTier]\n  const [loggedUsername, setLoggedUsername] = useState(\"\");\n  const [loggedPassword, setLoggedPassword] = useState(\"\");\n  const [loggedAccess, setLoggedAccess] = useState(\"\");\n  const [userLoggedIn, setUserLoggedIn] = useState(false);\n  const [auth, setAuth] = useState({\n    isAuthorised: false,\n    errors: [],\n    username: false\n  });\n\n  // Functions here\n\n  const registerEmployee = (username, password) => {\n    //(employee username, employee password)\n\n    if (employeeData.filter(employee => employee[0] === username).length > 0) {\n      return;\n    }\n    setEmployeeData([...employeeData, [username, password, \"None\"]]);\n  };\n  const logIn = (username, password) => {\n    let index = 0;\n    let found = false;\n    for (let i = 0; i < employeeData.length; i++) {\n      if (employeeData[i][0] === username) {\n        if (employeeData[i][1] === password) {\n          found = true;\n          index = i;\n        }\n      }\n    }\n    if (found === true) {\n      setUserLoggedIn(true);\n      setLoggedUsername(employeeData[index][0]);\n      setLoggedPassword(employeeData[index][1]);\n      setLoggedAccess(employeeData[index][2]);\n      setAuth({\n        ...auth,\n        isAuthorised: true,\n        username: username\n      });\n    } else {\n      setAuth({\n        ...auth,\n        isAuthorised: false,\n        username: false,\n        errors: [\"Credentials not correct\"]\n      });\n    }\n  };\n  const logOut = () => {\n    if (userLoggedIn) {\n      setUserLoggedIn(false);\n      setLoggedUsername(\"None\");\n      setLoggedPassword(\"None\");\n      setLoggedAccess(\"None\");\n    }\n  };\n  const setEmployeeDataByIndex = (index, key, value) => {\n    const newEmployeeData = employeeData[index];\n    newEmployeeData[key] = value;\n    setEmployeeData([...employeeData.slice(0, index - 1), newEmployeeData, ...employeeData.slice(index + 1)]);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      employeeData,\n      setEmployeeData,\n      setEmployeeDataByIndex,\n      loggedUsername,\n      setLoggedUsername,\n      loggedPassword,\n      setLoggedPassword,\n      loggedAccess,\n      setLoggedAccess,\n      logIn,\n      logOut,\n      registerEmployee,\n      auth,\n      setAuth\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n};\n_s2(AuthProvider, \"RKsCJx2rmIsifAOv/7kQejUAuVg=\");\n_c = AuthProvider;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["useContext","useState","createContext","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","AuthProvider","children","_s2","employeeData","setEmployeeData","loggedUsername","setLoggedUsername","loggedPassword","setLoggedPassword","loggedAccess","setLoggedAccess","userLoggedIn","setUserLoggedIn","auth","setAuth","isAuthorised","errors","username","registerEmployee","password","filter","employee","length","logIn","index","found","i","logOut","setEmployeeDataByIndex","key","value","newEmployeeData","slice","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ryanbudd/PasswordManager/src/contexts/AuthContext.js"],"sourcesContent":["import { useContext, useState, createContext } from \"react\";\n\nexport const AuthContext = createContext();\n\nexport function useAuth() { return useContext(AuthContext) };\n\nexport const AuthProvider = ({children}) => {\n\n    // States here\n\n    const [employeeData, setEmployeeData] = useState([]);  //[username, password, accessTier]\n    const [loggedUsername, setLoggedUsername] = useState(\"\");\n    const [loggedPassword, setLoggedPassword] = useState(\"\");\n    const [loggedAccess, setLoggedAccess] = useState(\"\");\n    const [userLoggedIn, setUserLoggedIn] = useState(false);\n    const [auth, setAuth] = useState({\n        isAuthorised: false,\n        errors: [],\n        username: false,    \n    });\n\n    // Functions here\n\n    const registerEmployee = (username, password) => { //(employee username, employee password)\n\n        if (employeeData.filter((employee) => employee[0] === username).length > 0) {\n          return;\n        }\n    \n        setEmployeeData([...employeeData, [username, password, \"None\"]]);       \n    }\n\n    const logIn = (username, password) => {\n        let index = 0\n        let found = false;\n        for (let i = 0; i < employeeData.length; i++) {\n            if (employeeData[i][0] === username) {\n                if (employeeData[i][1] === password){\n                    found = true;\n                    index = i;\n                }\n            } \n        }\n        if (found === true) {\n            setUserLoggedIn(true);\n            setLoggedUsername(employeeData[index][0]);\n            setLoggedPassword(employeeData[index][1]);\n            setLoggedAccess(employeeData[index][2]);\n            setAuth({\n                ...auth,\n                isAuthorised: true,\n                username: username,\n            });\n        } else {\n            setAuth({\n                ...auth,\n                isAuthorised: false,\n                username: false,\n                errors: [\"Credentials not correct\"],\n            });\n        }\n    }\n\n    const logOut = () => {\n        if (userLoggedIn) {\n            setUserLoggedIn(false);\n            setLoggedUsername(\"None\");\n            setLoggedPassword(\"None\");\n            setLoggedAccess(\"None\");\n        }\n    }\n\n    const setEmployeeDataByIndex = (index, key, value) => {\n        const newEmployeeData = employeeData[index];\n        newEmployeeData[key] = value;\n        setEmployeeData([\n            ...employeeData.slice(0, index-1),\n            newEmployeeData,\n            ...employeeData.slice(index+1)\n        ])\n    };\n\n    return (\n        <AuthContext.Provider value={{\n            employeeData,\n            setEmployeeData,\n            setEmployeeDataByIndex,\n            loggedUsername,\n            setLoggedUsername,\n            loggedPassword,\n            setLoggedPassword,\n            loggedAccess,\n            setLoggedAccess,\n            logIn,\n            logOut,\n            registerEmployee,\n            auth,\n            setAuth\n        }}>\n            {children}\n        </AuthContext.Provider>\n    )\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}